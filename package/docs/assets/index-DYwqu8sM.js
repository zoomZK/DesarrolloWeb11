(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=a(i);fetch(i.href,t)}})();function Q(e,n,a){const o=`${n}=${a}`;let i=`?${o}`;if(e){const t=new RegExp(`([?&])${n}=[^&]*`);t.exec(e)!==null?i=e.replace(t,`$1${o}`):i=`${e}&${o}`}return i}function j(e){const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(document.location.search);if((n==null?void 0:n[2])!==void 0)return decodeURIComponent(n[2].replace(/\+/g," "))}function K(e,n){let a=e;if(a){const o=new RegExp(`\\?${n}=[^&]*`),i=new RegExp(`&${n}=[^&]*`);a=a.replace(o,"?"),a=a.replace(i,"")}return a}var L=(e=>(e[e.Left=1]="Left",e[e.None=0]="None",e[e.Right=-1]="Right",e))(L||{});function U(){let e=K(document.location.search,"imageLightboxIndex");e=K(e,"imageLightboxSet"),window.history.pushState({},"",document.location.pathname+e)}function W(e,n,a){const o=a[e].dataset.ilb2Id??e.toString();let i=Q(document.location.search,"imageLightboxIndex",o);const t={imageLightboxIndex:o,imageLightboxSet:""};n!==void 0&&(t.imageLightboxSet=n,i=Q(i,"imageLightboxSet",n)),window.history.pushState(t,"",document.location.pathname+i)}function Y(e,n,a){if(j("imageLightboxSet")!==e)return;const o=j("imageLightboxIndex");if(o===void 0)return;let i=n.findIndex(t=>t.dataset.ilb2Id===o);i<0&&(i=parseInt(o,10)),a(i,!0)}function Z(e,n,a,o,i,t,l){const m=e.state;if(!m||Object.keys(m).length===0){t(!0);return}if(m.imageLightboxSet!==n)return;const u=m.imageLightboxIndex;if(u===void 0){t(!0);return}let f=a.findIndex(E=>E.dataset.ilb2Id===u);if(f<0&&(f=parseInt(u,10)),o===null){i(f,!0);return}l(f,f>o?L.Right:L.Left,!0)}const p=document.createElement("div");p.setAttribute("id","ilb-container");let P=null;function ee(e,n,a){p.classList.remove("ilb-overlay"),document.body.classList.add("ilb-body"),document.body.appendChild(p),n&&(P=o=>{o.stopPropagation(),a()},p.addEventListener("click",P),p.addEventListener("touchend",P)),p.style.transition=`opacity ${e.toString()}ms ease`,setTimeout(()=>{p.style.opacity="1"},50)}function te(){p.classList.add("ilb-overlay")}function ne(){p.style.opacity="0"}function ie(){P!==null&&(p.removeEventListener("click",P),p.removeEventListener("touchend",P)),p.remove(),p.textContent="",document.body.classList.remove("ilb-body")}function w(){return p}const H=document.createElement("div");H.setAttribute("id","ilb-activity-indicator");H.appendChild(document.createElement("div"));function V(){w().appendChild(H)}function X(){H.remove()}const A=document.createElement("div");A.classList.add("ilb-button","ilb-arrow");A.setAttribute("id","ilb-arrow-left");const q=document.createElement("div");q.classList.add("ilb-button","ilb-arrow");q.setAttribute("id","ilb-arrow-right");let C=null,k=null;function oe(e,n){C=a=>{a.stopPropagation(),e()},k=a=>{a.stopPropagation(),n()},A.addEventListener("click",C),A.addEventListener("touchend",C),q.addEventListener("click",k),q.addEventListener("touchend",k),w().append(A,q)}function ae(){A.remove(),C!==null&&(A.removeEventListener("click",C),A.removeEventListener("touchend",C)),k!==null&&(q.removeEventListener("click",k),q.removeEventListener("touchend",k)),C=null,k=null}const x=document.createElement("caption");x.setAttribute("id","ilb-caption");x.textContent="&nbsp;";x.addEventListener("click",e=>{e.stopPropagation()});function re(e,n){e!==""?(w().appendChild(x),x.style.transition=`opacity ${n.toString()}ms ease`,setTimeout(()=>{x.style.opacity="1"},1),x.textContent=e):(x.style.opacity="0",setTimeout(()=>{x.remove()},n))}const T=document.createElement("button");T.classList.add("ilb-button");T.setAttribute("id","ilb-close-button");let D=null;function le(e){D=n=>{n.stopPropagation(),e()},T.addEventListener("click",D),w().appendChild(T)}function de(){D!==null&&T.removeEventListener("click",D),T.remove()}const se=document.fullscreenEnabled||(document.webkitFullscreenEnabled??!1);function ce(){return document.fullscreenElement??document.webkitFullscreenElement??null}const ue=e=>{(e.requestFullscreen||e.webkitRequestFullScreen).call(e)},me=()=>{(document.exitFullscreen||document.webkitExitFullscreen).call(document)};function fe(){ce()===null?ue(w()):me()}const M=document.createElement("button");M.classList.add("ilb-button");M.setAttribute("id","ilb-fullscreen-button");M.innerHTML="&#x26F6;";M.addEventListener("click",e=>{e.stopPropagation(),fe()});function ge(){w().appendChild(M)}function pe(){M.remove()}function ve(e,n,a){let o=0,i=0,t=document.createElement("img");t.setAttribute("id","ilb-image"),t.setAttribute("src",e.getAttribute("href")??"");const l=document.createElement("div");l.classList.add("ilb-image-container");let m;const u=e.dataset.ilb2VideoId;let f=e.dataset.ilb2Video!==void 0&&u!==void 0;if(f){const c=a.get(u);c!==void 0?[t,m]=c.element():f=!1}l.appendChild(t);function E(c,g,b,F){if(f){const r=a.get(u);if((r==null?void 0:r.shouldAutoplay())===!0){const[d,s]=r.element();s?d.play():d.autoplay=!0}}else t.addEventListener("click",r=>{if(r.stopPropagation(),n.quitOnImgClick){F();return}(r.pageX-t.offsetLeft)/t.width<=1/3?g():b()});t.addEventListener("touchstart",r=>{o=r.touches[0].pageX,t.style.transitionProperty="opacity"}),t.addEventListener("touchmove",r=>{i=r.touches[0].pageX-o,t.style.left=`${i.toString()}px`}),t.addEventListener("touchend",r=>{r.stopPropagation(),t.style.transitionProperty="left, opacity",i>50&&g(),i<-50&&b(),t.style.left="0"}),t.addEventListener("touchcancel",r=>{r.stopPropagation(),t.style.transitionProperty="left, opacity",t.style.left="0"}),c()}function I(c,g){w().appendChild(l);const b=Math.abs(100-n.gutter);t.style.maxHeight=`${b.toString()}%`,t.style.maxWidth=`${b.toString()}%`,t.style.left=`${(-100*c).toString()}px`,t.style.transition=`all ease ${n.animationSpeed.toString()}ms`,setTimeout(g,50)}function N(c,g){t.addEventListener("error",g),m===!0?c():(t.addEventListener("load",c),t.addEventListener("loadedmetadata",c))}function v(c,g,b,F){t.style.left="0",t.style.opacity="1",setTimeout(()=>{E(c,g,b,F)},n.animationSpeed)}function O(c,g){if(c!==L.None){const b=parseInt(t.style.left,10)||0;t.style.left=`${(b+100*c).toString()}px`}t.style.opacity="0",setTimeout(()=>{g()},n.animationSpeed)}function $(){l.remove()}return{addToDOM:I,removeFromDOM:$,startLoading:N,transitionIn:v,transitionOut:O}}let B=null;function be(e,n,a,o){e.enableKeyboard&&(B=i=>{i.key==="Escape"&&(i.preventDefault(),n()),i.key==="ArrowLeft"&&(i.preventDefault(),a()),i.key==="ArrowRight"&&(i.preventDefault(),o())},document.addEventListener("keyup",B))}function ye(){B!==null&&document.removeEventListener("keyup",B)}const S=document.createElement("div");S.classList.add("ilb-navigation");function z(e,n,a,o){for(let i=0;i<e.length;i++){const t=document.createElement("button");t.style.transition=`background-color ${o.toString()}ms ease`;const l=()=>{const m=n();if(t.classList.contains("ilb-navigation-active")||m===null||t.parentNode===null)return;const u=Array.prototype.indexOf.call(t.parentNode.childNodes,t),f=u<m?L.Left:L.Right;a(u,f)};t.addEventListener("click",l),t.addEventListener("touchend",l),S.appendChild(t)}}function J(e){var n,a;for(let o=0;o<S.children.length;o++)(n=S.children.item(o))==null||n.classList.remove("ilb-navigation-active");(a=S.children.item(e))==null||a.classList.add("ilb-navigation-active")}function he(e,n,a,o){S.textContent="",z(e,n,a,o);const i=n();i!==null&&J(i),w().appendChild(S),S.addEventListener("click",t=>{t.stopPropagation()}),S.addEventListener("touchend",t=>{t.stopPropagation()})}function Ee(e,n){let a=e.dataset.ilb2Id;a===void 0&&(a=`a${((1+Math.random())*65536|0).toString(16)}`),e.dataset.ilb2VideoId=a;const o=a,i=document.createElement("video");i.setAttribute("id","ilb-image"),i.preload="metadata",i.dataset.ilb2VideoId=o;let t=!1,l=!1;for(const[E,I]of Object.entries(n))switch(E){case"autoplay":l=!0;break;case"controls":case"loop":case"muted":case"poster":case"preload":case"src":i.setAttribute(E,I.toString());break}if(n.sources)for(const E of n.sources){const I=document.createElement("source");for(const[N,v]of Object.entries(E))I.setAttribute(N,v);i.appendChild(I)}i.addEventListener("loadedmetadata",()=>{t=!0});function m(){return o}function u(){return[i,t]}function f(){return l}return{element:u,id:m,shouldAutoplay:f}}function Le(){const e=[];function n(o){for(const i of o){const t=i.dataset.ilb2Video;t!==void 0&&e.push(Ee(i,JSON.parse(t)))}}function a(o){return e.find(i=>i.id()===o)}return{add:n,get:a}}function we(e,n,a){const o=[],i=Le();let t=null,l=null;function m(){return n}function u(){return o}function f(r,d){if(l===null)return;const s=l;s.transitionOut(r,()=>{s.removeFromDOM(),d==null||d()})}function E(){l==null||l.transitionIn(X,$,c,v)}function I(r){l==null||l.addToDOM(r,()=>{var s;if(t===null)return;const d=o[t];if(e.caption&&re(d.dataset.ilb2Caption??((s=d.getElementsByTagName("img").item(0))==null?void 0:s.alt)??"",e.animationSpeed),E(),e.preloadNext&&t+1<o.length){const R=o[t+1];document.createElement("img").setAttribute("src",R.getAttribute("href")??"")}w().dispatchEvent(new Event("ilb:loaded",{bubbles:!0}))})}function N(r,d){const s=ve(o[r],e,i);t=r,l=s,s.startLoading(()=>{I(d)},()=>{X()})}function v(r=!1){t!==null&&(e.activity&&V(),ye(),e.history&&!r&&U(),w().dispatchEvent(new Event("ilb:quit",{bubbles:!0})),ne(),f(L.None,()=>{t=null,l=null,ae(),de(),pe(),ie()}))}function O(r,d,s=!1){t!==null&&(e.history&&!s&&W(r,m(),u()),e.activity&&V(),J(r),f(d),N(r,d))}function $(){if(t===null)return;let r=t-1;if(t===0){if(e.quitOnEnd){v();return}r=o.length-1}o[r].dispatchEvent(new Event("ilb:previous",{bubbles:!0})),O(r,L.Left)}function c(){if(t===null)return;let r=t+1;if(t===o.length-1){if(e.quitOnEnd){v();return}r=0}o[r].dispatchEvent(new Event("ilb:next",{bubbles:!0})),O(r,L.Right)}function g(r,d=!1){t===null&&(ee(e.animationSpeed,e.quitOnDocClick,v),e.activity&&V(),be(e,v,$,c),e.arrows&&oe($,c),e.button&&le(v),e.fullscreen&&se&&ge(),e.overlay&&te(),e.history&&!d&&W(r,m(),u()),o[r].dispatchEvent(new Event("ilb:start",{bubbles:!0})),N(r,L.None),e.navigation&&he(u(),()=>t,O,e.animationSpeed))}function b(r){const d=o.indexOf(r);d<0||g(d)}function F(r){const d=r.filter(s=>!o.includes(s)).filter(s=>s.tagName.toLowerCase()==="a"&&(new RegExp(`.(${e.allowedTypes})$`,"i").test(s.href)||s.dataset.ilb2Video!==void 0));i.add(d),o.push(...d);for(const s of d)s.addEventListener("click",R=>{R.preventDefault(),R.stopPropagation(),b(s)});z(d,()=>t,O,e.animationSpeed)}return F(a),e.history&&window.addEventListener("popstate",r=>{Z(r,m(),u(),t,g,v,O)}),{addImages:F,close:v,images:u,next:c,open:g,openWithImage:b,previous:$,set:m}}class y{constructor(n,a){const o={activity:!0,allowedTypes:"",animationSpeed:250,arrows:!0,button:!0,caption:!1,enableKeyboard:!0,fullscreen:!0,gutter:10,history:!1,navigation:!1,overlay:!0,preloadNext:!0,quitOnDocClick:!0,quitOnEnd:!0,quitOnImgClick:!1,...a};this.s=we(o,n.length>0?n[0].dataset.imagelightbox??"":"",Array.from(n)),o.history&&this.openHistory()}addImages(n){this.s.addImages(Array.from(n))}close(){this.s.close()}next(){this.s.next()}open(n){n!==void 0?this.s.openWithImage(n):this.s.open(0)}openHistory(){Y(this.s.set(),this.s.images(),(n,a)=>{this.s.open(n,a)})}previous(){this.s.previous()}}const h=typeof TEST<"u"?TEST:!1;new y(document.querySelectorAll('a[data-imagelightbox="basic"]'),{...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="video"]'),{...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="minimal"]'),{activity:!1,arrows:!1,button:!1,fullscreen:!1,overlay:!1,quitOnDocClick:!1,...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="caption"]'),{caption:!0,...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="navigation"]'),{navigation:!0,...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="quit"]'),{quitOnDocClick:!1,quitOnEnd:!1,quitOnImgClick:!0,...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="history"]'),{history:!0,...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="history-ids"]'),{history:!0,...h&&{animationSpeed:0}});new y(document.querySelectorAll('a[data-imagelightbox="allowedtypes"]'),{allowedTypes:"gif",...h&&{animationSpeed:0}});const xe=new y(document.querySelectorAll('a[data-imagelightbox="trigger"]'),{...h&&{animationSpeed:0}});var _;(_=document.getElementsByClassName("trigger_lightbox").item(0))==null||_.addEventListener("click",()=>{xe.open()});const Se=new y(document.querySelectorAll('a[data-imagelightbox="dynamic"]'),{...h&&{animationSpeed:0}});var G;(G=document.getElementsByClassName("add_image").item(0))==null||G.addEventListener("click",()=>{const e=document.getElementsByClassName("demo_dynamic").item(0),n=document.createElement("li");e==null||e.appendChild(n);const a=document.createElement("a");a.dataset.imagelightbox="dynamic",a.href="images/demo4.jpg",n.appendChild(a);const o=document.createElement("img");o.src="images/thumb4.jpg",a.appendChild(o),Se.addImages(document.querySelectorAll('a[data-imagelightbox="dynamic"]'))});new y(document.querySelectorAll('a[data-imagelightbox="events"]'),{...h&&{animationSpeed:0}});document.addEventListener("ilb:start",e=>{console.log("ilb:start"),console.log(e.target)});document.addEventListener("ilb:quit",()=>{console.log("ilb:quit")});document.addEventListener("ilb:loaded",()=>{console.log("ilb:loaded")});document.addEventListener("ilb:previous",e=>{console.log("ilb:previous"),console.log(e.target)});document.addEventListener("ilb:next",e=>{console.log("ilb:next"),console.log(e.target)});
//# sourceMappingURL=index-DYwqu8sM.js.map
